



<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>graphql-schemas-types | 七翼式 | 不对称</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="theme-color" content="#3F51B5">
  
  
  <meta name="keywords" content="graphql">
  <meta name="description" content="Schemas and Types翻译  在这篇文章中，你将了解有关GraphQL类型系统有关的所有必要知识，以及它如何描述可查询的数据。由于GraphQL可以与任何后端框架或编程语言一起使用，因此我们将忽略具体实现细节，只讨论概念。 #Type system 类型系统 如果你以前见过GraphQL查询，那么你应该知道GraphQL查询语句基本上是选择对象上的字段的。例如，在以下查询中：  我们">
<meta property="og:type" content="article">
<meta property="og:title" content="graphql-schemas-types">
<meta property="og:url" content="http://localhost:5000/2023/01/09/graphql-schemas-types/index.html">
<meta property="og:site_name" content="七翼式">
<meta property="og:description" content="Schemas and Types翻译  在这篇文章中，你将了解有关GraphQL类型系统有关的所有必要知识，以及它如何描述可查询的数据。由于GraphQL可以与任何后端框架或编程语言一起使用，因此我们将忽略具体实现细节，只讨论概念。 #Type system 类型系统 如果你以前见过GraphQL查询，那么你应该知道GraphQL查询语句基本上是选择对象上的字段的。例如，在以下查询中：  我们">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-01-09T05:03:38.000Z">
<meta property="article:modified_time" content="2023-01-10T18:38:28.000Z">
<meta property="article:author" content="el_psy">
<meta property="article:tag" content="graphql">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="七翼式" type="application/atom+xml">
  
  <meta name="summary" content="">
  <link rel="shortcut icon" href="/favicon/favicon.ico">
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head>

<body>
  <div id="loading" class="active"></div>

  <nav id="menu" class="hide" >
   <div class="inner flex-row-vertical">
  <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
      <i class="icon icon-lg icon-close"></i>
  </a>
  <div class="brand-wrap">
    <div class="brand">
      <a href="/" class="avatar"><img src="/img/logo.jpg"></a>
      <hgroup class="introduce">
        <h5 class="nickname">el_psy</h5>
        <a href="mailto:gaojingjingjing@outlook.com" title="gaojingjingjing@outlook.com" class="mail">gaojingjingjing@outlook.com</a>
      </hgroup>
    </div>
  </div>
  <div class="scroll-wrap flex-col">
    <ul class="nav">
      
          <li class="waves-block waves-effect">
            <a href="/"  >
              <i class="icon icon-lg icon-home"></i>
              主页
            </a>
          </li>
      
          <li class="waves-block waves-effect">
            <a href="/archives"  >
              <i class="icon icon-lg icon-archives"></i>
              archives
            </a>
          </li>
      
          <li class="waves-block waves-effect">
            <a href="/categories"  >
              <i class="icon icon-lg icon-th-list"></i>
              categories
            </a>
          </li>
      
          <li class="waves-block waves-effect">
            <a href="/tags"  >
              <i class="icon icon-lg icon-tags"></i>
              Tags
            </a>
          </li>
      
          <li class="waves-block waves-effect">
            <a href="https://github.com/el-psy" target="_blank" >
              <i class="icon icon-lg icon-github"></i>
              Github
            </a>
          </li>
      
          <li class="waves-block waves-effect">
            <a href="/404"  >
              <i class="icon icon-lg icon-link"></i>
              测试
            </a>
          </li>
      
    </ul>

    <footer class="footer">
  <p><a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0;vertical-align:middle;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAAAllBMVEUAAAD///+rsapERER3d3eIiIjMzMzu7u4iIiKUmZO6v7rKzsoODg4RERFVVVUNDQ0NDg0PEA8zMzNLTEtbXltmZmZydnF9gn2AgICPkI+ZmZmqqqq7u7vFxsXIzMgNDQwZGRkgICAhISEkJSMnKCcuMC4xMzE5Ozk7PTtBQkFCQkJDQ0Nna2eGhoaHh4ezuLLGysbd3d1wVGpAAAAA4UlEQVR42q2T1xqCMAyFk7QsBQeKA9x7j/d/OSm22CpX0nzcpA1/T05aAOuBVkMAScQFHLnEwoCo2f1TnQIGoVMewjZEjVFN4GH1Ue1Cn2jWqwfsOOj6wDwGvotsl/c8lv7KIq1eLOsT0HMFHMIE/RZyHnlphryT9zyV+8WH5e8yQw3wnQvgAFxPTKUVi555SHR/lOfLMgVTeDlSfN+TaoUsiTyeIm+bCkHvCA2FUKG48LDtYBZBknsYP/G8NTw0gaaHyuQf4H5pecrB/FYCT2sL9zAfy1Xyjou6L8X2W7YcLyBZCRtnq/zfAAAAAElFTkSuQmCC" /></a></p>
  <p>七翼式 &copy; 2023</p>
  <p>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme
  <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></p>
  <a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-2x icon-rss-square"></i></a>
</footer>

  </div>
</div>

  </nav>
  <main id="main">
    <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">graphql-schemas-types</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input " autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
    </div>
</header>
<header class="content-header">
  <div class="container">
    <h1 class="author">graphql-schemas-types</h1>
    <h5 class="subtitle">
        
            <time datetime="2023-01-09T05:03:38.000Z" itemprop="datePublished" class="page-time">
  2023-01-09
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/graphql/">graphql</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/graphql/schemas/">schemas</a></li></ul></li></ul>

        
    </h5>
  </div>
</header>

    <div class="container body-wrap">
      <article id="post-graphql-schemas-types" 
  class="article article-type-post" itemprop="blogPost">
    <div class="post-meta flex-row">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/graphql/" rel="tag">graphql</a></li></ul>

    </div>
    <div class="post-body">
        <aside class="post-widget" id="post-widget">

            
            <nav class="post-toc-wrap" id="post-toc">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#type-system-%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F"><span class="post-toc-number">1.</span> <span class="post-toc-text">Type system 类型系统</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#type-language-%E7%B1%BB%E5%9E%8B%E8%AF%AD%E8%A8%80"><span class="post-toc-number">2.</span> <span class="post-toc-text">Type language 类型语言</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#object-types-and-fields-%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%AD%97%E6%AE%B5"><span class="post-toc-number">3.</span> <span class="post-toc-text">Object types and fields 对象类型和字段</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#arguments-%E5%8F%82%E6%95%B0"><span class="post-toc-number">4.</span> <span class="post-toc-text">Arguments 参数</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#the-query-and-mutation-types-%E6%9F%A5%E8%AF%A2%E5%92%8Cmutation%E7%B1%BB%E5%9E%8B"><span class="post-toc-number">5.</span> <span class="post-toc-text">The Query and Mutation types 查询和Mutation类型</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#scalar-types-%E6%A0%87%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="post-toc-number">6.</span> <span class="post-toc-text">Scalar types 标量类型</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#enumeration-types-%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><span class="post-toc-number">7.</span> <span class="post-toc-text">Enumeration types 枚举类型</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#lists-and-non-null-%E5%88%97%E8%A1%A8%E5%92%8C%E9%9D%9E%E7%A9%BA"><span class="post-toc-number">8.</span> <span class="post-toc-text">Lists and Non-Null 列表和非空</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#interfaces-%E6%8E%A5%E5%8F%A3"><span class="post-toc-number">9.</span> <span class="post-toc-text">Interfaces 接口</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#union-types-%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="post-toc-number">10.</span> <span class="post-toc-text">Union types 联合类型</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#input-types-%E8%BE%93%E5%85%A5%E7%B1%BB%E5%9E%8B"><span class="post-toc-number">11.</span> <span class="post-toc-text">Input types 输入类型</span></a></li></ol>
            </nav>
            
        </aside>

        <div class="post-main">

            <div class="post-content" id="post-content" itemprop="postContent">
            <blockquote>
<p><a target="_blank" rel="noopener" href="https://graphql.org/learn/schema/#union-types">Schemas and Types</a>翻译</p>
</blockquote>
<p>在这篇文章中，你将了解有关GraphQL类型系统有关的所有必要知识，以及它如何描述可查询的数据。由于GraphQL可以与任何后端框架或编程语言一起使用，因此我们将忽略具体实现细节，只讨论概念。</p>
<h1 id="type-system-类型系统"><a class="header-anchor" href="#type-system-类型系统">#</a>Type system 类型系统</h1>
<p>如果你以前见过GraphQL查询，那么你应该知道GraphQL查询语句基本上是选择对象上的字段的。例如，在以下查询中：</p>
<ol>
<li>我们从一个特殊的根对象开始</li>
<li>我们在根对象上选择hero字段</li>
<li>对于hero返回的对象，我们选择name和appearsln字段。</li>
</ol>
<p>因为GraphQL查询的结构和返回的结果非常匹配，所以你可以预测查询将会返回什么，而不需要了解服务器的太多信息。但我们对请求的数据进行准确描述还是很有用的————我们可以选择哪些字段？他们可能会返回什么样的对象？这些子对象上有哪些字段可用？这就是schema模式的来源。</p>
<p>每个GraphQL服务都定义了一组类型，完全描述了你可以在该服务上查询的数据的类型。然后，当查询来到GraphQL服务上时，将按照该模式对查询进行验证和执行。</p>
<h1 id="type-language-类型语言"><a class="header-anchor" href="#type-language-类型语言">#</a>Type language 类型语言</h1>
<p>GraphQL服务可以用任何语言编写。由于我们不能依赖特定的编程语言（如JavaScript）来讨论GraphQL模式，因此我们将定义自己的简单语言。我们将使用“GraphQL模式语言”——它类似于查询语言，并允许我们以不依赖语言的方式讨论GraphQL架构。</p>
<h1 id="object-types-and-fields-对象类型和字段"><a class="header-anchor" href="#object-types-and-fields-对象类型和字段">#</a>Object types and fields 对象类型和字段</h1>
<p>GraphQL模式的最基本组件是对象类型，它只表示可以从服务中获取的对象种类，以及它具有哪些字段。在GraphQL模式语言中，我们可以这样表示：</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">type</span> <span class="token class-name">Character</span> <span class="token punctuation">&#123;</span>
  <span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token scalar">String</span><span class="token operator">!</span>
  <span class="token attr-name">appearsIn</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Episode</span><span class="token operator">!</span><span class="token punctuation">]</span><span class="token operator">!</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>这个语言非常易读，但让我们仔细研究一下，这样我们就可以共享词汇了：</p>
<ul>
<li>
<p><code>Character</code>是GraphQL对象类型。这意味着它是一种具有某些字段的类型。模式中的大多数类型都是对象类型。</p>
</li>
<li>
<p><code>name</code>和<code>appearsln</code>是<code>Character</code>类型上的字段。这意味着<code>name</code>和<code>appearsln</code>时唯一可以出现在对<code>Character</code>类型进行操作的GraphQL查询的任何部分中的字段。</p>
</li>
<li>
<p><code>String</code>是内置标量类型之一。这些类型解析为单个标量对象，并且在查询中不能有子选择。稍后我们将进一步讨论标量类型。</p>
</li>
<li>
<p><code>String!</code>表示该字段不可为空，这意味着GraphQL服务承诺在你查询该字段时始终为你提供一个值。在类型语言中，我们将用感叹号表示这些字符。</p>
</li>
<li>
<p><code>[Episode!]!</code>表示<code>Episode</code>对象的数组。由于它也是不可为空的，因此在查询appearsln字段时，你可以期望一个数组（包含零个或多个项）。而且<code>Episode!</code>也是不可为空的，你也可以期望数组中的每个项都是一个<code>Episode</code>对象。</p>
</li>
</ul>
<p>现在你知道了GraphQL对象类型是什么样子，以及如何阅读GraphQL类型语言的基础知识。</p>
<h1 id="arguments-参数"><a class="header-anchor" href="#arguments-参数">#</a>Arguments 参数</h1>
<p>GraphQL对象类型上的每个字段都可以有零个或多个参数，例如下面的length字段：</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">type</span> <span class="token class-name">Starship</span> <span class="token punctuation">&#123;</span>
  <span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token scalar">ID</span><span class="token operator">!</span>
  <span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token scalar">String</span><span class="token operator">!</span>
  <span class="token attr-name">length</span><span class="token punctuation">(</span><span class="token attr-name">unit</span><span class="token punctuation">:</span> <span class="token class-name">LengthUnit</span> <span class="token operator">=</span> <span class="token constant">METER</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token scalar">Float</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>所有的参数都需要命名。与JavaScript和Python等语言不同，GraphQL中的所有参数都是按名称传递的。在这种情况下，length字段有一个定义的参数unit。</p>
<p>参数可以是必须的，也可以是可选的。当一个参数是可选的时候，我们可以设定一个默认值——如果没有传递单位参数，它将默认设置为<code>METER</code>。</p>
<h1 id="the-query-and-mutation-types-查询和mutation类型"><a class="header-anchor" href="#the-query-and-mutation-types-查询和mutation类型">#</a>The Query and Mutation types 查询和Mutation类型</h1>
<p>模式中的大多数类型都只是普通对象类型，但模式中有两种类型是特殊的：</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">schema</span> <span class="token punctuation">&#123;</span>
  <span class="token attr-name">query</span><span class="token punctuation">:</span> <span class="token class-name">Query</span>
  <span class="token attr-name">mutation</span><span class="token punctuation">:</span> <span class="token class-name">Mutation</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>每个GraphQL服务都有一个查询类型，至于mutation类型不是必须的。这些类型与常规的对象类型相同，但它们很特殊，因为它们定义了每个GraphQL查询的入口。因此，如果你看到类似下面的查询：</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">query</span> <span class="token punctuation">&#123;</span>
  <span class="token object">hero</span> <span class="token punctuation">&#123;</span>
    <span class="token property">name</span>
  <span class="token punctuation">&#125;</span>
  <span class="token property-query">droid</span><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token string">"2000"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token property">name</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"hero"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"R2-D2"</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token property">"droid"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"C-3PO"</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这意味着GraphQL服务需要具有带有hero和droid字段的查询类型：</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">type</span> <span class="token class-name">Query</span> <span class="token punctuation">&#123;</span>
  <span class="token attr-name">hero</span><span class="token punctuation">(</span><span class="token attr-name">episode</span><span class="token punctuation">:</span> <span class="token class-name">Episode</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name">Character</span>
  <span class="token attr-name">droid</span><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token scalar">ID</span><span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name">Droid</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>Mutation的工作方式与此类似——你可以在mutation类型上定义字段，这些字段可以作为查询中可以调用的根mutation字段。</p>
<p>重点是要记住，除了作为模式的入口之外，查询和mutation类型与其他任何GraphQL对象类型都相同，它们的字段工作方式完全相同。</p>
<h1 id="scalar-types-标量类型"><a class="header-anchor" href="#scalar-types-标量类型">#</a>Scalar types 标量类型</h1>
<p>GraphQL对象类型具有名称和字段，但在某些情况下，这些字段必须解析为一些具体数据。这就是标量类型的来源：它们表示查询的结果（叶子）。</p>
<p>在下面的查询中，name和appearsln字段将解析为标量类型：</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token punctuation">&#123;</span>
  <span class="token object">hero</span> <span class="token punctuation">&#123;</span>
    <span class="token property">name</span>
    <span class="token property">appearsIn</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"hero"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"R2-D2"</span><span class="token punctuation">,</span>
      <span class="token property">"appearsIn"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"NEWHOPE"</span><span class="token punctuation">,</span>
        <span class="token string">"EMPIRE"</span><span class="token punctuation">,</span>
        <span class="token string">"JEDI"</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>我们知道这一点是因为这些字段没有任何子字段——它们是查询树的叶子节点。</p>
<p>GraphQL附带一组现成的默认标量类型：</p>
<ul>
<li><code>Int</code>：32位有符号整数</li>
<li><code>Float</code>：双精度有符号浮点数。</li>
<li><code>String</code>：utf-8字符串</li>
<li><code>Boolean</code>：布尔</li>
<li><code>ID</code>：ID标量类型表示唯一标识符。这通常用于重新提取对象或作为缓存的键。ID类型的序列化方式与<code>String</code>相同；然而，将其定义为<code>ID</code>意味着它不是人类可读的。</li>
</ul>
<p>在大多数GraphQL服务实现中，会有自定义标量类型的方法。例如，我们可以定义日期类型：</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">scalar</span> <span class="token class-name">Date</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后有我们的实现来定义如何序列化、反序列化和验证该类型。例如，你可以指定Date类型应该始终序列化为整数时间戳，并且你的客户机应该知道任何日期字段都应该使用该格式。</p>
<h1 id="enumeration-types-枚举类型"><a class="header-anchor" href="#enumeration-types-枚举类型">#</a>Enumeration types 枚举类型</h1>
<p>枚举类型是一种特殊的标量，仅限于特定的一组允许值。这允许你：</p>
<ul>
<li>
<p>验证此类型的任何参数是否为允许的值之一。</p>
</li>
<li>
<p>通过类型系统通知，该字段始终是一组有限值中的一个。</p>
</li>
</ul>
<p>以下是GraphQL模式语言中的枚举定义：</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">enum</span> <span class="token class-name">Episode</span> <span class="token punctuation">&#123;</span>
  <span class="token constant">NEWHOPE</span>
  <span class="token constant">EMPIRE</span>
  <span class="token constant">JEDI</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这意味着，无论我们在模式中使用哪种类型，我们都希望它恰好是<code>NEWHOPE</code>，<code>EMPIRE</code>，<code>JEDI</code>中的某一个。</p>
<p>请注意，各种语言的GraphQL服务实现都有自己特定于语言的方法处理枚举类型。在支持枚举作为一级公民的语言中，实现可能会利用这一点；在JavaScript这样没有枚举支持的语言中，这些值可能在内部映射到一组整数。然而，这些细节不会泄露给客户端，客户端可以完全按照枚举值的字符串名称进行操作。</p>
<h1 id="lists-and-non-null-列表和非空"><a class="header-anchor" href="#lists-and-non-null-列表和非空">#</a>Lists and Non-Null 列表和非空</h1>
<p>对象类型、标量类型和枚举类型是可以在GraphQL中定义的唯一类型。但是，当在模式的其他部分或查询变量声明中使用类型时，可以应用影响这些变量验证的其他类型修饰符。我们来看一个示例：</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">type</span> <span class="token class-name">Character</span> <span class="token punctuation">&#123;</span>
  <span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token scalar">String</span><span class="token operator">!</span>
  <span class="token attr-name">appearsIn</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Episode</span><span class="token punctuation">]</span><span class="token operator">!</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>在这，我们使用的是<code>String</code>类型，并通过添加感叹号将其标记为非空。这意味着我们的服务器总是希望为该字段返回一个非空值，如果它最终得到一个空值，那么实际上会触发GraphQL执行错误，让客户端知道出了问题。</p>
<p>在定义字段的参数的时候也可以使用非空修饰符。如果将空值作为参数传递（无论是在GraphQL字符串中还是在变量中），则会导致GraphQL服务器返回验证错误。</p>
<p>query</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">query</span> <span class="token definition-query function">DroidById</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">:</span> <span class="token scalar">ID</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token property-query">droid</span><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token property">name</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>variable</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token punctuation">&#123;</span>
  <span class="token string">"id"</span><span class="token punctuation">:</span> <span class="token property">null</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>result</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"errors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      <span class="token property">"message"</span><span class="token operator">:</span> <span class="token string">"Variable \"$id\" of non-null type \"ID!\" must not be null."</span><span class="token punctuation">,</span>
      <span class="token property">"locations"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
          <span class="token property">"line"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token property">"column"</span><span class="token operator">:</span> <span class="token number">17</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>列表的工作方式类似：我们可以使用类型修饰符标记为List，这表示此字段将返回该类型的列表。在模式语言中，这将通过类型包含在方括号[]中来表示。它对参数的作用相同，其中验证步骤需要该值的列表。</p>
<p>可以同时使用列表和非空修饰符，例如，可以有一个非空字符串列表：</p>
<pre class="line-numbers language-none"><code class="language-none">myField: [String!]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这表示列表本身可以为空，但是成员不能为空。例如在JSON中：</p>
<pre class="line-numbers language-none"><code class="language-none">myField: null &#x2F;&#x2F; valid
myField: [] &#x2F;&#x2F; valid
myField: [&#39;a&#39;, &#39;b&#39;] &#x2F;&#x2F; valid
myField: [&#39;a&#39;, null, &#39;b&#39;] &#x2F;&#x2F; error<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>现在，我们又定义了一个非空字符串列表：</p>
<pre class="line-numbers language-none"><code class="language-none">myField: [String]!<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这意味着列表不可为空，但是可以包含空值：</p>
<pre class="line-numbers language-none"><code class="language-none">myField: null &#x2F;&#x2F; error
myField: [] &#x2F;&#x2F; valid
myField: [&#39;a&#39;, &#39;b&#39;] &#x2F;&#x2F; valid
myField: [&#39;a&#39;, null, &#39;b&#39;] &#x2F;&#x2F; valid<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>你可以根据需要任意嵌套使用非空修饰符和列表修饰符。</p>
<h1 id="interfaces-接口"><a class="header-anchor" href="#interfaces-接口">#</a>Interfaces 接口</h1>
<p>与许多类型系统一样，GraphQL支持接口。接口是一种抽象类型，它包含一组字段，类型必出包含这些字段才能实现接口。</p>
<p>例如，你可以有一个Character接口来代表《星球大战》三部曲中的任何角色：</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">interface</span> <span class="token class-name">Character</span> <span class="token punctuation">&#123;</span>
  <span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token scalar">ID</span><span class="token operator">!</span>
  <span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token scalar">String</span><span class="token operator">!</span>
  <span class="token attr-name">friends</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Character</span><span class="token punctuation">]</span>
  <span class="token attr-name">appearsIn</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Episode</span><span class="token punctuation">]</span><span class="token operator">!</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这意味着任何实现Character的类型都需要具有这些字段，以及这些参数和返回类型。</p>
<p>例如，一下是一些可能实现Character的类型。</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">type</span> <span class="token class-name">Human</span> <span class="token keyword">implements</span> <span class="token class-name">Character</span> <span class="token punctuation">&#123;</span>
  <span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token scalar">ID</span><span class="token operator">!</span>
  <span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token scalar">String</span><span class="token operator">!</span>
  <span class="token attr-name">friends</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Character</span><span class="token punctuation">]</span>
  <span class="token attr-name">appearsIn</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Episode</span><span class="token punctuation">]</span><span class="token operator">!</span>
  <span class="token attr-name">starships</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Starship</span><span class="token punctuation">]</span>
  <span class="token attr-name">totalCredits</span><span class="token punctuation">:</span> <span class="token scalar">Int</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">type</span> <span class="token class-name">Droid</span> <span class="token keyword">implements</span> <span class="token class-name">Character</span> <span class="token punctuation">&#123;</span>
  <span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token scalar">ID</span><span class="token operator">!</span>
  <span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token scalar">String</span><span class="token operator">!</span>
  <span class="token attr-name">friends</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Character</span><span class="token punctuation">]</span>
  <span class="token attr-name">appearsIn</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Episode</span><span class="token punctuation">]</span><span class="token operator">!</span>
  <span class="token attr-name">primaryFunction</span><span class="token punctuation">:</span> <span class="token scalar">String</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>你可以看到，这两种类型都具有Character接口中的所有字段，但也引入了特定的特定Character类型的额外字段<code>totalCredits</code>、<code>starships</code>和<code>primaryFunction</code>。</p>
<p>当你想要返回一个或一组对象，但这些对象可能有几种不同的类型的时候，接口会很有用。</p>
<p>例如，请注意一下查询会产生错误：</p>
<p>查询</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">query</span> <span class="token definition-query function">HeroForEpisode</span><span class="token punctuation">(</span><span class="token variable">$ep</span><span class="token punctuation">:</span> <span class="token class-name">Episode</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token property-query">hero</span><span class="token punctuation">(</span><span class="token attr-name">episode</span><span class="token punctuation">:</span> <span class="token variable">$ep</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token property">name</span>
    <span class="token property">primaryFunction</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>参数</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"ep"</span><span class="token operator">:</span> <span class="token string">"JEDI"</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>结果</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"errors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      <span class="token property">"message"</span><span class="token operator">:</span> <span class="token string">"Cannot query field \"primaryFunction\" on type \"Character\". Did you mean to use an inline fragment on \"Droid\"?"</span><span class="token punctuation">,</span>
      <span class="token property">"locations"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
          <span class="token property">"line"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
          <span class="token property">"column"</span><span class="token operator">:</span> <span class="token number">5</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>hero字段返回类型Character，这意味着它可能是Human或者Droif，具体取决于<code>episode</code>参数。在上面的查询中，你只能请求存在于Character接口的字段，该接口不包含<code>primaryFunction</code>。</p>
<p>想要请求特定对象类型上的字段，需要使用内联片段：</p>
<p>查询</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">query</span> <span class="token definition-query function">HeroForEpisode</span><span class="token punctuation">(</span><span class="token variable">$ep</span><span class="token punctuation">:</span> <span class="token class-name">Episode</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token property-query">hero</span><span class="token punctuation">(</span><span class="token attr-name">episode</span><span class="token punctuation">:</span> <span class="token variable">$ep</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token property">name</span>
    <span class="token operator">...</span> <span class="token keyword">on</span> <span class="token class-name">Droid</span> <span class="token punctuation">&#123;</span>
      <span class="token property">primaryFunction</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>参数</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"ep"</span><span class="token operator">:</span> <span class="token string">"JEDI"</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>结果</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"hero"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"R2-D2"</span><span class="token punctuation">,</span>
      <span class="token property">"primaryFunction"</span><span class="token operator">:</span> <span class="token string">"Astromech"</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在查询中的内联片段部分，请参照<a target="_blank" rel="noopener" href="https://graphql.org/learn/queries/#inline-fragments">内联片段</a>章节。</p>
<h1 id="union-types-联合类型"><a class="header-anchor" href="#union-types-联合类型">#</a>Union types 联合类型</h1>
<p>联合类型与接口非常相似，但它们不能在类型之间指定任何共享字段。</p>
<pre class="line-numbers language-none"><code class="language-none">union SearchResult &#x3D; Human | Droid | Starship<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>当我们从模式中返回一个<code>SearchResult</code>类型时，可能会得到一个<code>Human</code>、<code>Droid</code>或<code>Starship</code>。注意，联合类型的成员需要是具体的对象类型，不可以是接口或其他联合类型。</p>
<p>在这种情况下，如果查询返回<code>SearchResult</code>联合类型的字段，则需要使用内联片段来查询所有字段。</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token punctuation">&#123;</span>
  <span class="token property-query">search</span><span class="token punctuation">(</span><span class="token attr-name">text</span><span class="token punctuation">:</span> <span class="token string">"an"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token property">__typename</span>
    <span class="token operator">...</span> <span class="token keyword">on</span> <span class="token class-name">Human</span> <span class="token punctuation">&#123;</span>
      <span class="token property">name</span>
      <span class="token property">height</span>
    <span class="token punctuation">&#125;</span>
    <span class="token operator">...</span> <span class="token keyword">on</span> <span class="token class-name">Droid</span> <span class="token punctuation">&#123;</span>
      <span class="token property">name</span>
      <span class="token property">primaryFunction</span>
    <span class="token punctuation">&#125;</span>
    <span class="token operator">...</span> <span class="token keyword">on</span> <span class="token class-name">Starship</span> <span class="token punctuation">&#123;</span>
      <span class="token property">name</span>
      <span class="token property">length</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"search"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">&#123;</span>
        <span class="token property">"__typename"</span><span class="token operator">:</span> <span class="token string">"Human"</span><span class="token punctuation">,</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Han Solo"</span><span class="token punctuation">,</span>
        <span class="token property">"height"</span><span class="token operator">:</span> <span class="token number">1.8</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span>
        <span class="token property">"__typename"</span><span class="token operator">:</span> <span class="token string">"Human"</span><span class="token punctuation">,</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Leia Organa"</span><span class="token punctuation">,</span>
        <span class="token property">"height"</span><span class="token operator">:</span> <span class="token number">1.5</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span>
        <span class="token property">"__typename"</span><span class="token operator">:</span> <span class="token string">"Starship"</span><span class="token punctuation">,</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"TIE Advanced x1"</span><span class="token punctuation">,</span>
        <span class="token property">"length"</span><span class="token operator">:</span> <span class="token number">9.2</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>__typename</code>字段解析为一个字符串，该字符串允许你在客户端上区分不同的数据类型。</p>
<p>此外，在本例中，由于<code>Human</code>和<code>Droid</code>共享一个接口（<code>Chatacter</code>），因此可以在一个地方查询它们的公共字段，而不必在多个类型中重复相同的字段。</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token punctuation">&#123;</span>
  <span class="token property-query">search</span><span class="token punctuation">(</span><span class="token attr-name">text</span><span class="token punctuation">:</span> <span class="token string">"an"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token property">__typename</span>
    <span class="token operator">...</span> <span class="token keyword">on</span> <span class="token class-name">Character</span> <span class="token punctuation">&#123;</span>
      <span class="token property">name</span>
    <span class="token punctuation">&#125;</span>
    <span class="token operator">...</span> <span class="token keyword">on</span> <span class="token class-name">Human</span> <span class="token punctuation">&#123;</span>
      <span class="token property">height</span>
    <span class="token punctuation">&#125;</span>
    <span class="token operator">...</span> <span class="token keyword">on</span> <span class="token class-name">Droid</span> <span class="token punctuation">&#123;</span>
      <span class="token property">primaryFunction</span>
    <span class="token punctuation">&#125;</span>
    <span class="token operator">...</span> <span class="token keyword">on</span> <span class="token class-name">Starship</span> <span class="token punctuation">&#123;</span>
      <span class="token property">name</span>
      <span class="token property">length</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>请注意，<code>name</code>仍在<code>Starship</code>上指定，否则它不会显示在结果中，因为<code>Starship</code>不是<code>Character</code>。</p>
<h1 id="input-types-输入类型"><a class="header-anchor" href="#input-types-输入类型">#</a>Input types 输入类型</h1>
<p>到目前为止，我们只讨论了标量值（例如枚举和字符串）作为参数传递到字段中。但也可以轻松传递复杂的对象。这在mutation中尤其有价值，因为你可能希望传入一整个要创建的对象。在GraphQL模式语言中，输入类型看起来和常规对象完全相同，但使用<code>input</code>创建而不是<code>type</code>。</p>
<p>一下是如何在mutation中使用输入类型：</p>
<p>查询</p>
<pre class="line-numbers language-graphql" data-language="graphql"><code class="language-graphql"><span class="token keyword">mutation</span> <span class="token definition-mutation function">CreateReviewForEpisode</span><span class="token punctuation">(</span><span class="token variable variable-input">$ep</span><span class="token punctuation">:</span> <span class="token class-name">Episode</span><span class="token operator">!</span><span class="token punctuation">,</span> <span class="token variable variable-input">$review</span><span class="token punctuation">:</span> <span class="token atom-input class-name">ReviewInput</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token property-query property-mutation">createReview</span><span class="token punctuation">(</span><span class="token attr-name">episode</span><span class="token punctuation">:</span> <span class="token variable variable-input">$ep</span><span class="token punctuation">,</span> <span class="token attr-name">review</span><span class="token punctuation">:</span> <span class="token variable variable-input">$review</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token property">stars</span>
    <span class="token property">commentary</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>参数</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"ep"</span><span class="token operator">:</span> <span class="token string">"JEDI"</span><span class="token punctuation">,</span>
  <span class="token property">"review"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"stars"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">"commentary"</span><span class="token operator">:</span> <span class="token string">"This is a great movie!"</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"createReview"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token property">"stars"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token property">"commentary"</span><span class="token operator">:</span> <span class="token string">"This is a great movie!"</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>输入类型上的字段本身可以引用输入对象类型，但不能在模式中混合输出和输入类型。输入类型的字段上也不能有参数。</p>



            </div>
            
<nav class="post-nav">
  
    <div class="waves-block waves-effect prev fl">
      <a href="/2023/01/11/graphql-validatoin/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">graphql-validatoin</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next fr">
      <a href="/2022/12/16/rollup-plugin/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">rollup插件</h4>
      </a>
    </div>
  
</nav>


            
            
        </div>
    </div>
</article>

    </div>
  </main>
<div class="mask" id="mask"></div>
<a href="#top" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>

<script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>


<script src="/js/main.js"></script>




<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<script type="text/template" id="search-tpl">
<li class="item">
    <a href="/{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</script>


<script src="/js/search.js"></script>










</body>
</html>
